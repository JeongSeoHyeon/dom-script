<!DOCTYPE html>
<html lang="ko-KR">
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge">
	<meta charset="UTF-8">
	<title>DOMScript - 3일차</title>
</head>
<body>

	<div id="page">
		header>h1#brand>lorem3
		<main role="main">
			.article*3>p*2>lorem
		</main>
		<aside id="sidebar">
			ul>li*3>lorem1
		</aside>
		<footer>
			small>lorem6
		</footer>
	</div>

	<script>

		// DOM API
		// 대상을 탐색(선택)~!!!!

		var html, head, body;

		/*
			html = head의 부모(ParentNode)
				head = body의 이전 형제(Previous Sibling)
					title
				body = head의 다음 형제(Next Sibling)

			부모(요소)찾기 :
				.parentNode

			자식(노드)찾기 :
				.firstChild
				.lastChild

			자식(요소)찾기 :
				.firstElementChild
				.lastElementChild

			형제(노드)찾기 :
				.nextSibling
				.previousSibling

			형제(요소)찾기 :
				.nextElementSibling
				.previousElementSibling

		 */

		head = document.head;
		html = head.parentNode;
		body = head.nextElementSibling;

		console.log('head: ', head);
		console.log('html: ', html);
		console.log('body: ', body);

		// 다음요소를 찾는 헬퍼함수
		// nextEl(document.getElementById('page'))
		function nextEl(el) {
			// 전달인자 유효성검사
			// if (el.nodeType !== 1) { throw new Error('전달받은 인자가 요소노드가 아닙니다.'); }
			if (el.nodeType !== 1) {
				console.error('전달받은 인자가 요소노드가 아닙니다.');
				return; // 함수 종료
			}

			if ( el.nextElementSibling ) {
				return el.nextElementSibling;
			} else {
				// IE 8 이하 브라우저 아래 코드 수행
				// el.nextSibling // 요소노드이냐? 아니냐?
				while( el.nextSibling ) {
					if ( el.nextSibling.nodeType !== 1 ) {
						el = el.nextSibling;
					} else {
						// el.nextSibling 요소노드라면?
						// 반복문 종료
						// el.nextSibling 반환
						return el.nextSibling;
					}
				}
			}

			// return 다음 요소노드
		}

		// 문제 제기: DOM 스크립트의 문제점(노드 탐색...) -> 요소 탐색
		// DOM 탐색을 도와주는 함수 => helper function
		// firstElement찾는 헬퍼 함수
		function firstEl(el) {
			// el의 첫번째 자식 요소노드를 찾아서 반환한다.
			// el.firstChild를 찾는다.
			// el.firstChild가 요소니?
			if(el.firstChild.nodeType === 1) {
				return el.firstChild;
			} else {
				// 첫번째 자식노드가 요소가 아니라면?
				// 다음 노드를 확인하는 것이죠. 요소 노드인지를?
				return nextEl(el.firstChild);
			}
		}

	</script>
</body>
</html>